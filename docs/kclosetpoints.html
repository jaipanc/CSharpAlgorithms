<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#57B747"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2026-01-25T23:44:01.0079619"><title>973.K Closet Points to Origin | DSA using C#.NET</title><script type="application/json" id="virtual-toc-data">[{"id":"key-idea-distance-without-sqrt","level":0,"title":"Key idea: distance without sqrt","anchor":"#key-idea-distance-without-sqrt"},{"id":"example","level":0,"title":"Example","anchor":"#example"},{"id":"best-dsa-approach-heap-priority-queue","level":0,"title":"Best DSA approach: Heap (Priority Queue)","anchor":"#best-dsa-approach-heap-priority-queue"},{"id":"step-by-step-with-max-heap-size-k","level":0,"title":"Step-by-step with max-heap (size k)","anchor":"#step-by-step-with-max-heap-size-k"},{"id":"python-min-heap-built-in-easiest-way","level":0,"title":"Python (min-heap built-in) â€“ easiest way","anchor":"#python-min-heap-built-in-easiest-way"},{"id":"c-solution-optimal-keep-a-max-heap-of-size-k","level":0,"title":"C# Solution (optimal): keep a max-heap of size k","anchor":"#c-solution-optimal-keep-a-max-heap-of-size-k"},{"id":"quick-recap-what-to-remember","level":0,"title":"Quick recap (what to remember)","anchor":"#quick-recap-what-to-remember"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.25.3-b857/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="https://www.python.org/static/apple-touch-icon-144x144-precomposed.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="973.K Closet Points to Origin | DSA using C#.NET"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="DSA using C#.NET Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/https://github.com/jaipanc/CSharpAlgorithms/tree/master/doc/kclosetpoints.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="973.K Closet Points to Origin | DSA using C#.NET"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/https://github.com/jaipanc/CSharpAlgorithms/tree/master/doc/kclosetpoints.html#webpage",
    "url": "writerside-documentation/https://github.com/jaipanc/CSharpAlgorithms/tree/master/doc/kclosetpoints.html",
    "name": "973.K Closet Points to Origin | DSA using C#.NET",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentationhttps://github.com/jaipanc/CSharpAlgorithms/tree/master/doc/#website",
    "url": "writerside-documentationhttps://github.com/jaipanc/CSharpAlgorithms/tree/master/doc/",
    "name": "DSA using C#.NET Help"
}</script><!-- End Schema.org --></head><body data-id="KClosetPoints" data-main-title="973.K Closet Points to Origin" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="ðŸ—ƒï¸-Heap-PriorityQueue.md|ðŸ—ƒï¸ Heap / PriorityQueue"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>DSA using C#.NET  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="KClosetPoints" id="KClosetPoints.md">973.K Closet Points to Origin</h1><section class="chapter"><h2 id="key-idea-distance-without-sqrt" data-toc="key-idea-distance-without-sqrt">Key idea: distance without sqrt</h2><p id="-99l3h0_10">Distance from origin: [ d = \sqrt{x<span id="-99l3h0_14"><sup class="superscript">2 + y</sup></span>2} ]</p><p id="-99l3h0_11">But <span class="control" id="-99l3h0_15">sqrt is unnecessary</span> for comparisons. Use: [ d<span id="-99l3h0_16"><sup class="superscript">2 = x</sup></span>2 + y^2 ] Because if <code class="code" id="-99l3h0_17">a &lt; b</code> then <code class="code" id="-99l3h0_18">sqrt(a) &lt; sqrt(b)</code>.</p><p id="-99l3h0_12">So we compare <span class="control" id="-99l3h0_19"><code class="code" id="-99l3h0_20">x*x + y*y</code></span>.</p></section><section class="chapter"><h2 id="example" data-toc="example">Example</h2><p id="-99l3h0_21"><code class="code" id="-99l3h0_26">points = [[1,3],[-2,2],[2,-2]]</code>, <code class="code" id="-99l3h0_27">k = 2</code></p><p id="-99l3h0_22">Distances squared:</p><ul class="list _bullet" id="-99l3h0_23"><li class="list__item" id="-99l3h0_28"><p id="-99l3h0_31"><code class="code" id="-99l3h0_32">[1,3]</code> &rarr; 1 + 9 = <span class="control" id="-99l3h0_33">10</span></p></li><li class="list__item" id="-99l3h0_29"><p id="-99l3h0_34"><code class="code" id="-99l3h0_35">[-2,2]</code> &rarr; 4 + 4 = <span class="control" id="-99l3h0_36">8</span></p></li><li class="list__item" id="-99l3h0_30"><p id="-99l3h0_37"><code class="code" id="-99l3h0_38">[2,-2]</code> &rarr; 4 + 4 = <span class="control" id="-99l3h0_39">8</span></p></li></ul><p id="-99l3h0_24">Two closest can be: <code class="code" id="-99l3h0_40">[-2,2]</code> and <code class="code" id="-99l3h0_41">[2,-2]</code> (order doesn&rsquo;t matter)</p></section><section class="chapter"><h2 id="best-dsa-approach-heap-priority-queue" data-toc="best-dsa-approach-heap-priority-queue">Best DSA approach: Heap (Priority Queue)</h2><section class="chapter"><h3 id="option-a-most-common-max-heap-of-size-k" data-toc="option-a-most-common-max-heap-of-size-k">Option A (most common): <span class="control" id="-99l3h0_49">Max-heap of size k</span></h3><p id="-99l3h0_44">Keep the <span class="control" id="-99l3h0_50">k closest</span> seen so far.</p><ul class="list _bullet" id="-99l3h0_45"><li class="list__item" id="-99l3h0_51"><p id="-99l3h0_53">If heap size &gt; k, remove the <span class="control" id="-99l3h0_54">farthest</span> (max distance).</p></li><li class="list__item" id="-99l3h0_52"><p id="-99l3h0_55">At the end, heap contains the k closest.</p></li></ul><p id="-99l3h0_46">Why max-heap? Because you want to quickly drop the farthest when you exceed k.</p><p id="-99l3h0_47">Time: <span class="control" id="-99l3h0_56">O(n log k)</span>, Space: <span class="control" id="-99l3h0_57">O(k)</span></p></section></section><section class="chapter"><h2 id="step-by-step-with-max-heap-size-k" data-toc="step-by-step-with-max-heap-size-k">Step-by-step with max-heap (size k)</h2><p id="-99l3h0_58">Take the example above, k=2:</p><p id="-99l3h0_59">We store (distanceSq, point) in heap, and keep <span class="control" id="-99l3h0_63">largest distance on top</span>.</p><ol class="list _decimal" id="-99l3h0_60" type="1"><li class="list__item" id="-99l3h0_64"><p id="-99l3h0_67">Add <code class="code" id="-99l3h0_68">[1,3]</code> (10) &rarr; heap: {10}</p></li><li class="list__item" id="-99l3h0_65"><p id="-99l3h0_69">Add <code class="code" id="-99l3h0_70">[-2,2]</code> (8) &rarr; heap: {10, 8}</p></li><li class="list__item" id="-99l3h0_66"><p id="-99l3h0_71">Add <code class="code" id="-99l3h0_72">[2,-2]</code> (8) &rarr; heap: {10, 8, 8} size=3&gt;2 &rarr; remove max (10) &rarr; heap left: {8, 8}</p></li></ol><p id="-99l3h0_61">Return the remaining points.</p></section><section class="chapter"><h2 id="python-min-heap-built-in-easiest-way" data-toc="python-min-heap-built-in-easiest-way">Python (min-heap built-in) &ndash; easiest way</h2><p id="-99l3h0_73">Python <code class="code" id="-99l3h0_75">heapq</code> is a <span class="control" id="-99l3h0_76">min-heap</span>, so the simplest is: push all and pop k.</p><section class="chapter"><h3 id="python-solution-simple" data-toc="python-solution-simple">Python Solution (simple)</h3><div class="code-block" data-lang="python">
import heapq

def kClosest(points, k):
    heap = [(x*x + y*y, [x, y]) for x, y in points]
    heapq.heapify(heap)
    return [heapq.heappop(heap)[1] for _ in range(k)]
</div><ul class="list _bullet" id="-99l3h0_78"><li class="list__item" id="-99l3h0_80"><p id="-99l3h0_82">Time: <span class="control" id="-99l3h0_83">O(n + k log n)</span> (good enough often)</p></li><li class="list__item" id="-99l3h0_81"><p id="-99l3h0_84">If you want optimal <span class="control" id="-99l3h0_85">O(n log k)</span> in Python, use a size-k max-heap trick (negated distances).</p></li></ul></section></section><section class="chapter"><h2 id="c-solution-optimal-keep-a-max-heap-of-size-k" data-toc="c-solution-optimal-keep-a-max-heap-of-size-k">C# Solution (optimal): keep a <span class="control" id="-99l3h0_90">max-heap of size k</span></h2><p id="-99l3h0_87">C# <code class="code" id="-99l3h0_91">PriorityQueue</code> is min-priority-first, so to simulate a <span class="control" id="-99l3h0_92">max-heap</span>, we store priority as <span class="control" id="-99l3h0_93">negative distance</span>.</p><section class="chapter"><h3 id="c-o-n-log-k" data-toc="c-o-n-log-k">C# (O(n log k))</h3><div class="code-block" data-lang="csharp">
using System.Collections.Generic;
using System.Linq;

public class Solution
{
    public int[][] KClosest(int[][] points, int k)
    {
        // element = point array, priority = -distSq (so farthest has smallest priority -&gt; dequeued first)
        var pq = new PriorityQueue&lt;int[], int&gt;();

        foreach (var p in points)
        {
            int x = p[0], y = p[1];
            int distSq = x * x + y * y;

            pq.Enqueue(p, -distSq);

            if (pq.Count &gt; k)
                pq.Dequeue(); // removes farthest (most negative priority == farthest)
        }

        return pq.UnorderedItems.Select(it =&gt; it.Element).ToArray();
    }
}
</div></section><section class="chapter"><h3 id="why-distsq-works" data-toc="why-distsq-works">Why <code class="code" id="-99l3h0_98">-distSq</code> works</h3><ul class="list _bullet" id="-99l3h0_96"><li class="list__item" id="-99l3h0_99"><p id="-99l3h0_103">Farther point = larger <code class="code" id="-99l3h0_104">distSq</code></p></li><li class="list__item" id="-99l3h0_100"><p id="-99l3h0_105">Larger <code class="code" id="-99l3h0_106">distSq</code> &rarr; <span class="control" id="-99l3h0_107">more negative priority</span></p></li><li class="list__item" id="-99l3h0_101"><p id="-99l3h0_108"><code class="code" id="-99l3h0_109">PriorityQueue</code> removes <span class="control" id="-99l3h0_110">smallest priority</span> first</p></li><li class="list__item" id="-99l3h0_102"><p id="-99l3h0_111">So it removes the <span class="control" id="-99l3h0_112">farthest</span> whenever we exceed k âœ…</p></li></ul></section></section><section class="chapter"><h2 id="quick-recap-what-to-remember" data-toc="quick-recap-what-to-remember">Quick recap (what to remember)</h2><ul class="list _bullet" id="-99l3h0_113"><li class="list__item" id="-99l3h0_115"><p id="-99l3h0_118">Compare using <code class="code" id="-99l3h0_119">x&sup2; + y&sup2;</code> (no sqrt)</p></li><li class="list__item" id="-99l3h0_116"><p id="-99l3h0_120">Best: <span class="control" id="-99l3h0_121">heap size k</span>, drop farthest &rarr; <span class="control" id="-99l3h0_122">O(n log k)</span></p></li><li class="list__item" id="-99l3h0_117"><p id="-99l3h0_123">Output can be in any order</p></li></ul></section><div class="last-modified">19 January 2026</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="kclosest.html" class="navigation-links__prev">658.Find K Closest Elements</a><a href="depth-first-search-dfs.html" class="navigation-links__next">ðŸŒ³ Depth-First Search (DFS)</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.25.3-b857/app.js"></script></body></html>