<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#57B747"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2026-01-18T18:27:51.4720767"><title>üóÉÔ∏è Heap / PriorityQueue | DSA using C#.NET</title><script type="application/json" id="virtual-toc-data">[{"id":"core-concepts","level":0,"title":"Core Concepts","anchor":"#core-concepts"},{"id":"visual-example-insertion-bubble-up","level":0,"title":"Visual Example: Insertion \u0026 Bubble Up","anchor":"#visual-example-insertion-bubble-up"},{"id":"c-implementation","level":0,"title":"C# Implementation","anchor":"#c-implementation"},{"id":"practice-problems","level":0,"title":"Practice Problems","anchor":"#practice-problems"},{"id":"common-heap-code-snippets","level":0,"title":"Common Heap Code Snippets","anchor":"#common-heap-code-snippets"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.25.3-b857/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="https://www.python.org/static/apple-touch-icon-144x144-precomposed.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="üóÉÔ∏è Heap / PriorityQueue | DSA using C#.NET"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="DSA using C#.NET Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/https://github.com/jaipanc/CSharpAlgorithms/tree/master/doc/Ô∏è-heap-priorityqueue.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="üóÉÔ∏è Heap / PriorityQueue | DSA using C#.NET"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/https://github.com/jaipanc/CSharpAlgorithms/tree/master/doc/Ô∏è-heap-priorityqueue.html#webpage",
    "url": "writerside-documentation/https://github.com/jaipanc/CSharpAlgorithms/tree/master/doc/Ô∏è-heap-priorityqueue.html",
    "name": "üóÉÔ∏è Heap / PriorityQueue | DSA using C#.NET",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentationhttps://github.com/jaipanc/CSharpAlgorithms/tree/master/doc/#website",
    "url": "writerside-documentationhttps://github.com/jaipanc/CSharpAlgorithms/tree/master/doc/",
    "name": "DSA using C#.NET Help"
}</script><!-- End Schema.org --></head><body data-id="üóÉÔ∏è-Heap-PriorityQueue" data-main-title="üóÉÔ∏è Heap / PriorityQueue" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>DSA using C#.NET  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="üóÉÔ∏è-Heap-PriorityQueue" id="üóÉÔ∏è-Heap-PriorityQueue.md">üóÉÔ∏è Heap / PriorityQueue</h1><p id="tm88gn_3">A <span class="control" id="tm88gn_9">Heap</span> is a specialized tree-based data structure that satisfies the <span class="control" id="tm88gn_10">Heap Property</span>. It is essentially a binary tree, but it is almost always implemented using a simple <span class="control" id="tm88gn_11">Array</span>.</p><section class="chapter"><h2 id="core-concepts" data-toc="core-concepts">Core Concepts</h2><p id="tm88gn_12">Heaps are primarily used to implement <span class="control" id="tm88gn_15">Priority Queues</span>. They allow you to access the &quot;highest priority&quot; element (min or max) in time.</p><section class="chapter"><h3 id="types-of-heaps" data-toc="types-of-heaps">Types of Heaps</h3><ol class="list _decimal" id="tm88gn_16" type="1"><li class="list__item" id="tm88gn_17"><p id="tm88gn_19"><span class="control" id="tm88gn_20">Min-Heap:</span> The parent node is always <span class="control" id="tm88gn_21">smaller</span> than or equal to its children. The Root is the global minimum.</p></li><li class="list__item" id="tm88gn_18"><p id="tm88gn_22"><span class="control" id="tm88gn_23">Max-Heap:</span> The parent node is always <span class="control" id="tm88gn_24">larger</span> than or equal to its children. The Root is the global maximum.</p></li></ol></section><section class="chapter"><h3 id="array-representation" data-toc="array-representation">Array Representation</h3><p id="tm88gn_25">A binary heap is a <span class="control" id="tm88gn_30">Complete Binary Tree</span> (filled level-by-level, left-to-right). This allows us to map it perfectly to an array without pointers.</p><p id="tm88gn_26">Given a node at index <code class="code" id="tm88gn_31">i</code>:</p><ul class="list _bullet" id="tm88gn_27"><li class="list__item" id="tm88gn_32"><p id="tm88gn_35"><span class="control" id="tm88gn_36">Left Child:</span> <code class="code" id="tm88gn_37">2 * i + 1</code></p></li><li class="list__item" id="tm88gn_33"><p id="tm88gn_38"><span class="control" id="tm88gn_39">Right Child:</span> <code class="code" id="tm88gn_40">2 * i + 2</code></p></li><li class="list__item" id="tm88gn_34"><p id="tm88gn_41"><span class="control" id="tm88gn_42">Parent:</span> <code class="code" id="tm88gn_43">(i - 1) / 2</code></p></li></ul><aside class="prompt" data-type="tip" data-title="" id="tm88gn_28"><p id="tm88gn_44"><span class="control" id="tm88gn_45">Note:</span> This math works for 0-indexed arrays (standard in C#).</p></aside></section></section><section class="chapter"><h2 id="visual-example-insertion-bubble-up" data-toc="visual-example-insertion-bubble-up">Visual Example: Insertion &amp; Bubble Up</h2><p id="tm88gn_46">We will visualize inserting the number <span class="control" id="tm88gn_51">2</span> into a <span class="control" id="tm88gn_52">Min-Heap</span>.</p><section class="chapter"><h3 id="initial-state" data-toc="initial-state">Initial State</h3><p id="tm88gn_53"><span class="control" id="tm88gn_55">Heap Array:</span> <code class="code" id="tm88gn_56">[3, 5, 9, 8, 10]</code></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 -0.2890625 151.66015625 194.9765625" height="194.9765625" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="151.66015625" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M86.957,27.992L82.219,32.73C77.481,37.469,68.004,46.945,63.266,53.767C58.527,60.589,58.527,64.755,58.527,68.255C58.527,71.755,58.527,74.589,58.527,76.005L58.527,77.422"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_C_1" d="M103.519,27.992L108.258,32.73C112.996,37.469,122.473,46.945,127.211,53.767C131.949,60.589,131.949,64.755,131.949,68.255C131.949,71.755,131.949,74.589,131.949,76.005L131.949,77.422"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_D_2" d="M50.019,101.18L44.968,105.957C39.916,110.734,29.814,120.289,24.762,127.501C19.711,134.712,19.711,139.581,19.711,143.783C19.711,147.984,19.711,151.52,19.711,153.287L19.711,155.055"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_E_3" d="M67.036,101.18L72.087,105.957C77.138,110.734,87.241,120.289,92.292,127.15C97.344,134.01,97.344,138.177,97.344,141.677C97.344,145.177,97.344,148.01,97.344,149.427L97.344,150.844"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(95.23828125, 19.7109375)" id="flowchart-A-0" class="node default"><circle cy="0" cx="0" r="11.7109375" style="fill:#f9f !important;stroke:#333 !important;stroke-width:2px !important" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>3</p></span></div></foreignObject></g></g><g transform="translate(58.52734375, 93.1328125)" id="flowchart-B-1" class="node default"><circle cy="0" cx="0" r="11.7109375" style="" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>5</p></span></div></foreignObject></g></g><g transform="translate(131.94921875, 93.1328125)" id="flowchart-C-3" class="node default"><circle cy="0" cx="0" r="11.7109375" style="" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>9</p></span></div></foreignObject></g></g><g transform="translate(19.7109375, 170.765625)" id="flowchart-D-5" class="node default"><circle cy="0" cx="0" r="11.7109375" style="" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>8</p></span></div></foreignObject></g></g><g transform="translate(97.34375, 170.765625)" id="flowchart-E-7" class="node default"><circle cy="0" cx="0" r="15.921875" style="" class="basic label-container"></circle><g transform="translate(-8.421875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="16.84375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>10</p></span></div></foreignObject></g></g></g></g></g></svg></section><section class="chapter"><h3 id="step-1-add-to-end" data-toc="step-1-add-to-end">Step 1: Add to End</h3><p id="tm88gn_57">We add <span class="control" id="tm88gn_60">2</span> to the first available spot (the end of the array/tree). <span class="control" id="tm88gn_61">Heap Array:</span> <code class="code" id="tm88gn_62">[3, 5, 9, 8, 10, 2]</code></p><aside class="prompt" data-type="tip" data-title="" id="tm88gn_58"><p id="tm88gn_63"><span class="control" id="tm88gn_64">Violation:</span> The node <span class="control" id="tm88gn_65">2</span> is smaller than its parent <span class="control" id="tm88gn_66">9</span>.</p></aside><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 -0.2890625 194.6875 194.9765625" height="194.9765625" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="194.6875" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M88.835,27.758L83.784,32.535C78.733,37.313,68.63,46.867,63.579,53.728C58.527,60.589,58.527,64.755,58.527,68.255C58.527,71.755,58.527,74.589,58.527,76.005L58.527,77.422"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_C_1" d="M107.931,24.717L119.105,30.001C130.279,35.285,152.628,45.854,163.802,53.221C174.977,60.589,174.977,64.755,174.977,68.255C174.977,71.755,174.977,74.589,174.977,76.005L174.977,77.422"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_D_2" d="M50.019,101.18L44.968,105.957C39.916,110.734,29.814,120.289,24.762,127.501C19.711,134.712,19.711,139.581,19.711,143.783C19.711,147.984,19.711,151.52,19.711,153.287L19.711,155.055"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_E_3" d="M67.036,101.18L72.087,105.957C77.138,110.734,87.241,120.289,92.292,127.15C97.344,134.01,97.344,138.177,97.344,141.677C97.344,145.177,97.344,148.01,97.344,149.427L97.344,150.844"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_F_4" d="M174.977,104.844L174.977,109.01C174.977,113.177,174.977,121.51,174.977,128.111C174.977,134.712,174.977,139.581,174.977,143.783C174.977,147.984,174.977,151.52,174.977,153.287L174.977,155.055"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(97.34375, 19.7109375)" id="flowchart-A-9" class="node default"><circle cy="0" cx="0" r="11.7109375" style="" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>3</p></span></div></foreignObject></g></g><g transform="translate(58.52734375, 93.1328125)" id="flowchart-B-10" class="node default"><circle cy="0" cx="0" r="11.7109375" style="" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>5</p></span></div></foreignObject></g></g><g transform="translate(174.9765625, 93.1328125)" id="flowchart-C-12" class="node default"><circle cy="0" cx="0" r="11.7109375" style="fill:#ff9999 !important;stroke:#f00 !important;stroke-width:2px !important" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>9</p></span></div></foreignObject></g></g><g transform="translate(19.7109375, 170.765625)" id="flowchart-D-14" class="node default"><circle cy="0" cx="0" r="11.7109375" style="" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>8</p></span></div></foreignObject></g></g><g transform="translate(97.34375, 170.765625)" id="flowchart-E-16" class="node default"><circle cy="0" cx="0" r="15.921875" style="" class="basic label-container"></circle><g transform="translate(-8.421875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="16.84375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>10</p></span></div></foreignObject></g></g><g transform="translate(174.9765625, 170.765625)" id="flowchart-F-18" class="node default"><circle cy="0" cx="0" r="11.7109375" style="fill:#ff9999 !important;stroke:#f00 !important;stroke-width:2px !important" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>2</p></span></div></foreignObject></g></g></g></g></g></svg></section><section class="chapter"><h3 id="step-2-bubble-up-first-swap" data-toc="step-2-bubble-up-first-swap">Step 2: Bubble Up (First Swap)</h3><p id="tm88gn_67">We swap <span class="control" id="tm88gn_70">2</span> with its parent <span class="control" id="tm88gn_71">9</span>. <span class="control" id="tm88gn_72">Heap Array:</span> <code class="code" id="tm88gn_73">[3, 5, 2, 8, 10, 9]</code></p><aside class="prompt" data-type="tip" data-title="" id="tm88gn_68"><p id="tm88gn_74"><span class="control" id="tm88gn_75">Violation:</span> The node <span class="control" id="tm88gn_76">2</span> is smaller than its new parent <span class="control" id="tm88gn_77">3</span>.</p></aside><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 -0.2890625 194.6875 194.9765625" height="194.9765625" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="194.6875" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M88.835,27.758L83.784,32.535C78.733,37.313,68.63,46.867,63.579,53.728C58.527,60.589,58.527,64.755,58.527,68.255C58.527,71.755,58.527,74.589,58.527,76.005L58.527,77.422"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_C_1" d="M107.931,24.717L119.105,30.001C130.279,35.285,152.628,45.854,163.802,53.221C174.977,60.589,174.977,64.755,174.977,68.255C174.977,71.755,174.977,74.589,174.977,76.005L174.977,77.422"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_D_2" d="M50.019,101.18L44.968,105.957C39.916,110.734,29.814,120.289,24.762,127.501C19.711,134.712,19.711,139.581,19.711,143.783C19.711,147.984,19.711,151.52,19.711,153.287L19.711,155.055"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_E_3" d="M67.036,101.18L72.087,105.957C77.138,110.734,87.241,120.289,92.292,127.15C97.344,134.01,97.344,138.177,97.344,141.677C97.344,145.177,97.344,148.01,97.344,149.427L97.344,150.844"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_F_4" d="M174.977,104.844L174.977,109.01C174.977,113.177,174.977,121.51,174.977,128.111C174.977,134.712,174.977,139.581,174.977,143.783C174.977,147.984,174.977,151.52,174.977,153.287L174.977,155.055"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(97.34375, 19.7109375)" id="flowchart-A-21" class="node default"><circle cy="0" cx="0" r="11.7109375" style="fill:#ff9999 !important;stroke:#f00 !important;stroke-width:2px !important" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>3</p></span></div></foreignObject></g></g><g transform="translate(58.52734375, 93.1328125)" id="flowchart-B-22" class="node default"><circle cy="0" cx="0" r="11.7109375" style="" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>5</p></span></div></foreignObject></g></g><g transform="translate(174.9765625, 93.1328125)" id="flowchart-C-24" class="node default"><circle cy="0" cx="0" r="11.7109375" style="fill:#ff9999 !important;stroke:#f00 !important;stroke-width:2px !important" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>2</p></span></div></foreignObject></g></g><g transform="translate(19.7109375, 170.765625)" id="flowchart-D-26" class="node default"><circle cy="0" cx="0" r="11.7109375" style="" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>8</p></span></div></foreignObject></g></g><g transform="translate(97.34375, 170.765625)" id="flowchart-E-28" class="node default"><circle cy="0" cx="0" r="15.921875" style="" class="basic label-container"></circle><g transform="translate(-8.421875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="16.84375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>10</p></span></div></foreignObject></g></g><g transform="translate(174.9765625, 170.765625)" id="flowchart-F-30" class="node default"><circle cy="0" cx="0" r="11.7109375" style="" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>9</p></span></div></foreignObject></g></g></g></g></g></svg></section><section class="chapter"><h3 id="step-3-bubble-up-final-swap" data-toc="step-3-bubble-up-final-swap">Step 3: Bubble Up (Final Swap)</h3><p id="tm88gn_78">We swap <span class="control" id="tm88gn_81">2</span> with its parent <span class="control" id="tm88gn_82">3</span>. The node <span class="control" id="tm88gn_83">2</span> is now at the root. <span class="control" id="tm88gn_84">Heap Array:</span> <code class="code" id="tm88gn_85">[2, 5, 3, 8, 10, 9]</code></p><aside class="prompt" data-type="tip" data-title="" id="tm88gn_79"><p id="tm88gn_86"><span class="control" id="tm88gn_87">Success:</span> Every parent is smaller than its children. The Heap property is restored.</p></aside><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 -0.2890625 194.6875 194.9765625" height="194.9765625" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="194.6875" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M88.835,27.758L83.784,32.535C78.733,37.313,68.63,46.867,63.579,53.728C58.527,60.589,58.527,64.755,58.527,68.255C58.527,71.755,58.527,74.589,58.527,76.005L58.527,77.422"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_C_1" d="M107.931,24.717L119.105,30.001C130.279,35.285,152.628,45.854,163.802,53.221C174.977,60.589,174.977,64.755,174.977,68.255C174.977,71.755,174.977,74.589,174.977,76.005L174.977,77.422"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_D_2" d="M50.019,101.18L44.968,105.957C39.916,110.734,29.814,120.289,24.762,127.501C19.711,134.712,19.711,139.581,19.711,143.783C19.711,147.984,19.711,151.52,19.711,153.287L19.711,155.055"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_E_3" d="M67.036,101.18L72.087,105.957C77.138,110.734,87.241,120.289,92.292,127.15C97.344,134.01,97.344,138.177,97.344,141.677C97.344,145.177,97.344,148.01,97.344,149.427L97.344,150.844"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_F_4" d="M174.977,104.844L174.977,109.01C174.977,113.177,174.977,121.51,174.977,128.111C174.977,134.712,174.977,139.581,174.977,143.783C174.977,147.984,174.977,151.52,174.977,153.287L174.977,155.055"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(97.34375, 19.7109375)" id="flowchart-A-33" class="node default"><circle cy="0" cx="0" r="11.7109375" style="fill:#99ff99 !important;stroke:#0f0 !important;stroke-width:2px !important" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>2</p></span></div></foreignObject></g></g><g transform="translate(58.52734375, 93.1328125)" id="flowchart-B-34" class="node default"><circle cy="0" cx="0" r="11.7109375" style="" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>5</p></span></div></foreignObject></g></g><g transform="translate(174.9765625, 93.1328125)" id="flowchart-C-36" class="node default"><circle cy="0" cx="0" r="11.7109375" style="" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>3</p></span></div></foreignObject></g></g><g transform="translate(19.7109375, 170.765625)" id="flowchart-D-38" class="node default"><circle cy="0" cx="0" r="11.7109375" style="" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>8</p></span></div></foreignObject></g></g><g transform="translate(97.34375, 170.765625)" id="flowchart-E-40" class="node default"><circle cy="0" cx="0" r="15.921875" style="" class="basic label-container"></circle><g transform="translate(-8.421875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="16.84375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>10</p></span></div></foreignObject></g></g><g transform="translate(174.9765625, 170.765625)" id="flowchart-F-42" class="node default"><circle cy="0" cx="0" r="11.7109375" style="" class="basic label-container"></circle><g transform="translate(-4.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="8.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>9</p></span></div></foreignObject></g></g></g></g></g></svg></section></section><section class="chapter"><h2 id="c-implementation" data-toc="c-implementation">C# Implementation</h2><p id="tm88gn_88">Below is a clean, custom Min-Heap implementation.</p><aside class="prompt" data-type="tip" data-title="" id="tm88gn_89"><p id="tm88gn_92"><span class="control" id="tm88gn_93">Tip:</span> In modern .NET (6+), you can use the built-in <code class="code" id="tm88gn_94">System.Collections.Generic.PriorityQueue&lt;TElement, TPriority&gt;</code>, but implementing it manually is critical for interviews.</p></aside><div class="code-block" data-lang="csharp">
using System;
using System.Collections.Generic;

public class MinHeap
{
    private readonly List&lt;int&gt; _elements = new List&lt;int&gt;();

    public int Size =&gt; _elements.Count;

    // Helper to get element at index
    public int Peek()
    {
        if (_elements.Count == 0) throw new InvalidOperationException(&quot;Heap is empty&quot;);
        return _elements[0];
    }

    public void Insert(int item)
    {
        _elements.Add(item);
        BubbleUp(_elements.Count - 1);
    }

    public int ExtractMin()
    {
        if (_elements.Count == 0) throw new InvalidOperationException(&quot;Heap is empty&quot;);

        int root = _elements[0];

        // Move last element to root
        int lastIndex = _elements.Count - 1;
        _elements[0] = _elements[lastIndex];
        _elements.RemoveAt(lastIndex);

        if (_elements.Count &gt; 0)
        {
            BubbleDown(0);
        }

        return root;
    }

    private void BubbleUp(int index)
    {
        while (index &gt; 0)
        {
            int parentIndex = (index - 1) / 2;
            
            // If current is smaller than parent, swap (Min-Heap property)
            if (_elements[index] &lt; _elements[parentIndex])
            {
                Swap(index, parentIndex);
                index = parentIndex;
            }
            else
            {
                break;
            }
        }
    }

    private void BubbleDown(int index)
    {
        while (index &lt; _elements.Count)
        {
            int leftChild = 2 * index + 1;
            int rightChild = 2 * index + 2;
            int smallest = index;

            // Check if Left Child is smaller
            if (leftChild &lt; _elements.Count &amp;&amp; _elements[leftChild] &lt; _elements[smallest])
            {
                smallest = leftChild;
            }

            // Check if Right Child is smaller
            if (rightChild &lt; _elements.Count &amp;&amp; _elements[rightChild] &lt; _elements[smallest])
            {
                smallest = rightChild;
            }

            // If a child is smaller, swap and continue down
            if (smallest != index)
            {
                Swap(index, smallest);
                index = smallest;
            }
            else
            {
                break; // Position is correct
            }
        }
    }

    private void Swap(int i, int j)
    {
        int temp = _elements[i];
        _elements[i] = _elements[j];
        _elements[j] = temp;
    }
}

</div></section><section class="chapter"><h2 id="practice-problems" data-toc="practice-problems">Practice Problems</h2><p id="tm88gn_95">Here is a curated list of practice problems to master Heaps, sorted by difficulty.</p><section class="chapter"><h3 id="leetcode" data-toc="leetcode">LeetCode</h3><div class="table-wrapper"><table class="wide" id="tm88gn_99"><thead><tr class="ijRowHead" id="tm88gn_100"><th id="tm88gn_108"><p>Difficulty</p></th><th id="tm88gn_109"><p>Problem</p></th><th id="tm88gn_110"><p>Concept</p></th></tr></thead><tbody><tr id="tm88gn_101"><td id="tm88gn_111"><p>üü¢ Easy</p></td><td id="tm88gn_112"><p><a href="https://leetcode.com/problems/last-stone-weight/" id="tm88gn_114" data-external="true" rel="noopener noreferrer" target="_blank">1046. Last Stone Weight</a></p></td><td id="tm88gn_113"><p>Basic Max-Heap simulation.</p></td></tr><tr id="tm88gn_102"><td id="tm88gn_115"><p>üü¢ Easy</p></td><td id="tm88gn_116"><p><a href="https://leetcode.com/problems/kth-largest-element-in-a-stream/" id="tm88gn_118" data-external="true" rel="noopener noreferrer" target="_blank">703. Kth Largest Element in a Stream</a></p></td><td id="tm88gn_117"><p>Maintaining a Min-Heap of size K.</p></td></tr><tr id="tm88gn_103"><td id="tm88gn_119"><p>üü° Medium</p></td><td id="tm88gn_120"><p><a href="https://leetcode.com/problems/kth-largest-element-in-an-array/" id="tm88gn_122" data-external="true" rel="noopener noreferrer" target="_blank">215. Kth Largest Element in an Array</a></p></td><td id="tm88gn_121"><p>Classic Heap problem.</p></td></tr><tr id="tm88gn_104"><td id="tm88gn_123"><p>üü° Medium</p></td><td id="tm88gn_124"><p><a href="https://leetcode.com/problems/k-closest-points-to-origin/" id="tm88gn_126" data-external="true" rel="noopener noreferrer" target="_blank">973. K Closest Points to Origin</a></p></td><td id="tm88gn_125"><p>Sorting via Heap (Custom Comparator).</p></td></tr><tr id="tm88gn_105"><td id="tm88gn_127"><p>üü° Medium</p></td><td id="tm88gn_128"><p><a href="https://leetcode.com/problems/top-k-frequent-elements/" id="tm88gn_130" data-external="true" rel="noopener noreferrer" target="_blank">347. Top K Frequent Elements</a></p></td><td id="tm88gn_129"><p>Frequency Map + Min-Heap.</p></td></tr><tr id="tm88gn_106"><td id="tm88gn_131"><p>üî¥ Hard</p></td><td id="tm88gn_132"><p><a href="https://leetcode.com/problems/merge-k-sorted-lists/" id="tm88gn_134" data-external="true" rel="noopener noreferrer" target="_blank">23. Merge k Sorted Lists</a></p></td><td id="tm88gn_133"><p>Essential pattern: Merging with Heaps.</p></td></tr><tr id="tm88gn_107"><td id="tm88gn_135"><p>üî¥ Hard</p></td><td id="tm88gn_136"><p><a href="https://leetcode.com/problems/find-median-from-data-stream/" id="tm88gn_138" data-external="true" rel="noopener noreferrer" target="_blank">295. Find Median from Data Stream</a></p></td><td id="tm88gn_137"><p>Using Two Heaps (Min &amp; Max) together.</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="hackerrank" data-toc="hackerrank">HackerRank</h3><div class="table-wrapper"><table class="wide" id="tm88gn_139"><thead><tr class="ijRowHead" id="tm88gn_141"><th id="tm88gn_145"><p>Difficulty</p></th><th id="tm88gn_146"><p>Problem</p></th><th id="tm88gn_147"><p>Concept</p></th></tr></thead><tbody><tr id="tm88gn_142"><td id="tm88gn_148"><p>üü¢ Easy</p></td><td id="tm88gn_149"><p><a href="https://www.hackerrank.com/challenges/qheap1/problem" id="tm88gn_151" data-external="true" rel="noopener noreferrer" target="_blank">QHEAP1</a></p></td><td id="tm88gn_150"><p>Raw implementation of Heap basic commands.</p></td></tr><tr id="tm88gn_143"><td id="tm88gn_152"><p>üü° Medium</p></td><td id="tm88gn_153"><p><a href="https://www.hackerrank.com/challenges/jesse-and-cookies/problem" id="tm88gn_155" data-external="true" rel="noopener noreferrer" target="_blank">Jesse and Cookies</a></p></td><td id="tm88gn_154"><p>Repeated extraction and insertion logic.</p></td></tr><tr id="tm88gn_144"><td id="tm88gn_156"><p>üî¥ Hard</p></td><td id="tm88gn_157"><p><a href="https://www.hackerrank.com/challenges/find-the-running-median/problem" id="tm88gn_159" data-external="true" rel="noopener noreferrer" target="_blank">Find the Running Median</a></p></td><td id="tm88gn_158"><p>Equivalent to LeetCode 295.</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="key-takeaways-for-interviews" data-toc="key-takeaways-for-interviews">Key Takeaways for Interviews</h3><ol class="list _decimal" id="tm88gn_160" type="1"><li class="list__item" id="tm88gn_163"><p id="tm88gn_166"><span class="control" id="tm88gn_167">Complexity:</span> Insert is , Extract Min/Max is , Peek is .</p></li><li class="list__item" id="tm88gn_164"><p id="tm88gn_168"><span class="control" id="tm88gn_169">Construction:</span> Building a heap from an arbitrary array takes time (not !) if you use the &quot;heapify&quot; algorithm starting from the bottom non-leaf nodes.</p></li><li class="list__item" id="tm88gn_165"><p id="tm88gn_170"><span class="control" id="tm88gn_171">Modern C#:</span> If the interview allows libraries, use <code class="code" id="tm88gn_172">PriorityQueue&lt;T, P&gt;</code>.</p></li></ol><div class="code-block" data-lang="none">
// Min-Heap (default)
var pq = new PriorityQueue&lt;string, int&gt;();
pq.Enqueue(&quot;Task A&quot;, 1); 

// Max-Heap (using custom comparer)
var maxPq = new PriorityQueue&lt;string, int&gt;(Comparer&lt;int&gt;.Create((a, b) =&gt; b - a));
</div></section></section><section class="chapter"><h2 id="common-heap-code-snippets" data-toc="common-heap-code-snippets">Common Heap Code Snippets</h2><section class="chapter"><h3 id="1-the-modern-way-net-6" data-toc="1-the-modern-way-net-6">1. The Modern Way (.NET 6+)</h3><p id="tm88gn_178">Since .NET 6, you don't need to implement a class manually. Use <code class="code" id="tm88gn_183">System.Collections.Generic.PriorityQueue&lt;TElement, TPriority&gt;</code>.</p><p id="tm88gn_179"><span class="control" id="tm88gn_184">Min-Heap (Default behavior):</span></p><div class="code-block" data-lang="csharp">
// &lt;Element, Priority&gt;
var minHeap = new PriorityQueue&lt;string, int&gt;();

minHeap.Enqueue(&quot;Task A&quot;, 10);
minHeap.Enqueue(&quot;Task B&quot;, 5);  // Higher priority (lower number)
minHeap.Enqueue(&quot;Task C&quot;, 20);

while (minHeap.Count &gt; 0)
{
    // Dequeues in order: 5 (Task B), 10 (Task A), 20 (Task C)
    Console.WriteLine(minHeap.Dequeue()); 
}

</div><p id="tm88gn_181"><span class="control" id="tm88gn_185">Max-Heap (Reverse Comparator):</span> To turn it into a Max-Heap, pass a descending comparer in the constructor.</p><div class="code-block" data-lang="csharp">
// Int element, Int priority
var maxHeap = new PriorityQueue&lt;int, int&gt;(Comparer&lt;int&gt;.Create((x, y) =&gt; y - x));

maxHeap.Enqueue(10, 10);
maxHeap.Enqueue(5, 5);
maxHeap.Enqueue(20, 20);

// Dequeues: 20, 10, 5
int max = maxHeap.Dequeue(); 

</div></section><section class="chapter"><h3 id="2-the-top-k-elements-pattern" data-toc="2-the-top-k-elements-pattern">2. The &quot;Top K Elements&quot; Pattern</h3><p id="tm88gn_186">This is the standard pattern for finding the &quot;Kth largest&quot; or &quot;Kth smallest&quot; item without sorting the whole array.</p><ul class="list _bullet" id="tm88gn_187"><li class="list__item" id="tm88gn_189"><p id="tm88gn_190"><span class="control" id="tm88gn_191">Concept:</span> Keep a Min-Heap of size <code class="code" id="tm88gn_192">K</code>. If the heap grows larger than <code class="code" id="tm88gn_193">K</code>, remove the smallest item. The remaining items are the &quot;Top K&quot; largest.</p></li></ul><div class="code-block" data-lang="csharp">
public int[] FindTopK(int[] nums, int k)
{
    // Min-Heap (default) to track the largest elements seen so far
    var heap = new PriorityQueue&lt;int, int&gt;();

    foreach (var num in nums)
    {
        heap.Enqueue(num, num);

        // If we exceed K, remove the smallest element
        if (heap.Count &gt; k)
        {
            heap.Dequeue();
        }
    }

    // Extract remaining elements (These are the Top K largest)
    var result = new int[k];
    int i = 0;
    while (heap.Count &gt; 0)
    {
        result[i++] = heap.Dequeue();
    }
    return result;
}

</div></section><section class="chapter"><h3 id="3-handling-custom-objects" data-toc="3-handling-custom-objects">3. Handling Custom Objects</h3><p id="tm88gn_194">Sometimes you need to store complex objects but sort them based on a specific property (like <code class="code" id="tm88gn_199">Age</code> or <code class="code" id="tm88gn_200">Salary</code>).</p><p id="tm88gn_195"><span class="control" id="tm88gn_201">Approach A: Separate Priority Argument</span></p><div class="code-block" data-lang="csharp">
public class Employee { public string Name; public int Salary; }

var pq = new PriorityQueue&lt;Employee, int&gt;(); // Priority is int (Salary)
var emp = new Employee { Name = &quot;John&quot;, Salary = 50000 };

// Enqueue object, but use Salary as the sorting key
pq.Enqueue(emp, emp.Salary); 

</div><p id="tm88gn_197"><span class="control" id="tm88gn_202">Approach B: Custom Comparer (If Priority is the object itself)</span></p><div class="code-block" data-lang="csharp">
public class Job { public int Urgency; }

// Sorts by Urgency descending (Max-Heap)
var comparer = Comparer&lt;Job&gt;.Create((a, b) =&gt; b.Urgency - a.Urgency);
var pq = new PriorityQueue&lt;Job, Job&gt;(comparer);

var j = new Job { Urgency = 5 };
pq.Enqueue(j, j);

</div></section><section class="chapter"><h3 id="4-efficient-build-heapify" data-toc="4-efficient-build-heapify">4. Efficient Build (Heapify)</h3><p id="tm88gn_203">If you already have a list of numbers, creating a heap by inserting one by one is . However, using <code class="code" id="tm88gn_205">PriorityQueue</code>'s bulk constructor performs <span class="control" id="tm88gn_206">Heapify</span> which is .</p><div class="code-block" data-lang="csharp">
var numbers = new List&lt;(int, int)&gt; 
{ 
    (10, 10), (5, 5), (20, 20), (1, 1) 
};

// This constructor runs in O(N) time
var pq = new PriorityQueue&lt;int, int&gt;(numbers); 

</div></section><section class="chapter"><h3 id="5-two-heaps-pattern-median-maintenance" data-toc="5-two-heaps-pattern-median-maintenance">5. Two Heaps Pattern (Median Maintenance)</h3><p id="tm88gn_207">Common in Hard problems (e.g., &quot;Find Median from Data Stream&quot;). You maintain a Max-Heap for the lower half of numbers and a Min-Heap for the upper half.</p><div class="code-block" data-lang="csharp">
// Lower half of data (Max Heap)
PriorityQueue&lt;int, int&gt; lo = new PriorityQueue&lt;int, int&gt;(Comparer&lt;int&gt;.Create((x,y) =&gt; y-x));

// Upper half of data (Min Heap)
PriorityQueue&lt;int, int&gt; hi = new PriorityQueue&lt;int, int&gt;();

public void AddNum(int num) 
{
    lo.Enqueue(num, num);
    
    // Balance: Move max of 'lo' to 'hi'
    int val = lo.Dequeue();
    hi.Enqueue(val, val);

    // Maintain size property: lo can be equal or +1 size of hi
    if (lo.Count &lt; hi.Count) {
        val = hi.Dequeue();
        lo.Enqueue(val, val);
    }
}

</div></section></section><div class="last-modified">16 January 2026</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="binary-search.html" class="navigation-links__prev">üîç Binary Search</a><a href="depth-first-search-dfs.html" class="navigation-links__next">üå≥ Depth-First Search (DFS)</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.25.3-b857/app.js"></script></body></html>